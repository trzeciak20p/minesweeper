<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name='author' contnt='yo mama'>
    <meta name='robots' content='none'>
    <meta name='keywords' content='saper, minesweeper, miny, gra'>
    <meta name='desription'
        content='Gra saper minesweeper miny gra. Bardzo dobra polecam gra miny wciągająca saper yyy... super'>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="minesweeper_icon.jpg">
    <title> B) Minesweeper</title>
</head>

<body>

    <header>
        <span>saper</span>
        <form class="container">

            <label for="inpt_col">ilość kolumn <br />
                <input type="number" name="inpt_col" id="inpt_col" required="required">
            </label>
            <label for="inpt_col">ilość wierszy <br />
                <input type="number" name="inpt_row" id="inpt_row" required="required">
            </label>
            <label for="inpt_col">ilość min <br />
                <input type="number" name="inpt_mines" id="inpt_mines" required="required">
            </label>
            <input type="button" name="start_saper" id="start_saper">

        </form>
    </header>
    <br />

    <main>

        <div id="saper_otoczka">
            <table id="main_saper">

            </table>
        </div>


    </main>


    <script>

        document.getElementById("start_saper").addEventListener("click", saper_start)

        let co_teraz = 0
        document.addEventListener("keydown", function (event) {
            if (event.keyCode == 32) {
                if (co_teraz == 0) {
                    co_teraz = 1
                    document.getElementById("main_saper").style.border = "solid 30px #ff0000";
                } else {
                    co_teraz = 0
                    document.getElementById("main_saper").style.border = "solid 30px #00ff00";
                }

            }

        })


        function saper_start() {        //zaczyna nową grę


            let cols = document.getElementById("inpt_col").value
            let rows = document.getElementById("inpt_row").value
            let mines = document.getElementById("inpt_mines").value

            if( (cols > 40 || cols < 10) || (rows > 30 || rows < 10) || (mines > 60 || mines < 25) ){
                alert("PODAJ POPRAWNE WARTOŚCI: \nkolumny 10-30, wiersze 10-40 miny 25-60")
                return;
            }


            let main_saper = document.getElementById("main_saper")
            let saper_tabela_text = ""
            
            for(i = 0; i < rows; i++){
                saper_tabela_text += " <tr> "
                for(j = 0; j < cols; j++){
                    saper_tabela_text += " <td></td> "
                }
                saper_tabela_text += " </tr> "
            }
            main_saper.innerHTML = saper_tabela_text

            return;
        }




    </script>



</body>

</html>